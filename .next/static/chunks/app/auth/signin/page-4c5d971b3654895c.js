(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{3274:(e,r,t)=>{"use strict";t.d(r,{A:()=>o,AuthProvider:()=>l});var s=t(5155),n=t(2115);let a=(0,n.createContext)(void 0);function l(e){let{children:r}=e,[t,l]=(0,n.useState)(null),[o,d]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let r=await e.json();l(r)}}catch(e){console.error("Auth check failed:",e)}finally{d(!1)}})()},[]),(0,s.jsx)(a.Provider,{value:{user:t,setUser:l,isLoading:o},children:r})}let o=()=>{let e=(0,n.useContext)(a);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},3477:(e,r,t)=>{"use strict";t.d(r,{default:()=>c});var s=t(5155),n=t(2115),a=t(4477);let l=(0,a.createServerReference)("60d8aeb29d99eb99b5045167783126569b7c4dc51d",a.callServer,void 0,a.findSourceMapURL,"signIn");var o=t(3274),d=t(5695),i=t(6874),u=t.n(i);function c(){let[e,r,t]=(0,n.useActionState)(l,null),{setUser:a}=(0,o.A)(),i=(0,d.useRouter)();return(0,n.useEffect)(()=>{(null==e?void 0:e.success)&&(a(e.user),i.push("/dashboard"))},[e,a,i]),(0,s.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white border border-gray-200 rounded-lg shadow-md",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Sign In"}),(0,s.jsxs)("form",{action:r,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,s.jsx)("input",{type:"email",name:"email",id:"email",required:!0,disabled:t,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",placeholder:"Enter your email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsx)("input",{type:"password",name:"password",id:"password",required:!0,disabled:t,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50",placeholder:"Enter your password"})]}),(0,s.jsx)("button",{type:"submit",disabled:t,className:"w-full bg-green-600 text-white p-3 rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Signing In...":"Sign In"}),(null==e?void 0:e.error)&&(0,s.jsx)("p",{className:"text-red-600 text-sm mt-2",children:e.error})]}),(0,s.jsxs)("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)(u(),{href:"/auth/signup",className:"text-green-600 hover:underline",children:"Sign up"})]})]})}},4477:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return s.callServer},createServerReference:function(){return a.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}});let s=t(3806),n=t(1818),a=t(7197)},5695:(e,r,t)=>{"use strict";var s=t(8999);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},6339:(e,r,t)=>{Promise.resolve().then(t.bind(t,3477))}},e=>{e.O(0,[874,441,964,358],()=>e(e.s=6339)),_N_E=e.O()}]);